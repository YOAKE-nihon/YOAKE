# YOAKE - ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚«ãƒ•ã‚§ä¼šå“¡åˆ¶ã‚µãƒ¼ãƒ“ã‚¹

YOAKE ã¯ã€å‰¯æ¥­ã‚„ã‚­ãƒ£ãƒªã‚¢æˆé•·ã‚’ç›®æŒ‡ã™ãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³å‘ã‘ã®ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚«ãƒ•ã‚§ä¼šå“¡åˆ¶ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚LINE ã‚’ä¸­å¿ƒã¨ã—ãŸãƒ‡ã‚¸ã‚¿ãƒ«ä½“é¨“ã‚’æä¾›ã—ã€æœˆé¡ 980 å††ã§åˆ©ç”¨ã§ãã‚‹ä»•çµ„ã¿ã§ã™ã€‚

## ğŸš€ ä¸»ãªæ©Ÿèƒ½

### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½

- **LINE é€£æºã«ã‚ˆã‚‹ä¼šå“¡ç™»éŒ²**: LINE LIFF ã‚’ä½¿ç”¨ã—ãŸã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªç™»éŒ²ä½“é¨“
- **Stripe æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ **: æœˆé¡ 980 å††ã®å®‰å…¨ãªæ±ºæ¸ˆå‡¦ç†
- **QR ã‚³ãƒ¼ãƒ‰åº—èˆ—ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³**: ç°¡å˜ãªåº—èˆ—åˆ©ç”¨é–‹å§‹
- **ãƒ‡ã‚¸ã‚¿ãƒ«ä¼šå“¡è¨¼**: 3D ãƒ•ãƒªãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ã«ã‚ˆã‚‹é­…åŠ›çš„ãªä¼šå“¡è¨¼è¡¨ç¤º
- **æ¥åº—å±¥æ­´ãƒ»åˆ†æ**: Chart.js ã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–
- **ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: LINE å†…ã§ã®ç›´æ„Ÿçš„ãªæ“ä½œ

### ç®¡ç†æ©Ÿèƒ½

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†**: ä¼šå“¡ç™»éŒ²ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æº
- **æ±ºæ¸ˆç®¡ç†**: Stripe çµ±åˆã«ã‚ˆã‚‹å®‰å…¨ãªæ±ºæ¸ˆå‡¦ç†
- **ãƒ‡ãƒ¼ã‚¿åˆ†æ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æã¨ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- **åº—èˆ—ç®¡ç†**: è¤‡æ•°åº—èˆ—ã®ç®¡ç†ã¨ QR ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **React 18** with TypeScript
- **React Router** - SPA routing
- **Chart.js & React-Chartjs-2** - ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–
- **Stripe Elements** - æ±ºæ¸ˆ UI
- **LINE LIFF SDK** - LINE çµ±åˆ
- **CSS3** - ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ3D ã‚«ãƒ¼ãƒ‰ç­‰ï¼‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **Node.js & Express** with TypeScript
- **Supabase** - PostgreSQL database
- **Stripe** - æ±ºæ¸ˆå‡¦ç†
- **LINE Messaging API** - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°
- **Helmet** - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **Express Rate Limit** - API ä¿è­·

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

- **Render** - ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **Supabase** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **UptimeRobot** - ç›£è¦–ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- **LINE Developers** - LINE API ç®¡ç†

## ğŸ“¦ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
yoake/
â”œâ”€â”€ client/                    # React ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pages/           # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ hooks/           # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ services/        # API ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ types/           # TypeScript å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ public/              # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ server/                   # Node.js ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # API ãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ services/        # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ middleware/      # Express ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ types/           # TypeScript å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”‚   â””â”€â”€ config/          # è¨­å®šç®¡ç†
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ database/                # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ schema.sql
â””â”€â”€ README.md
```

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### å‰ææ¡ä»¶

- Node.js 18+
- npm ã¾ãŸã¯ yarn
- LINE Developers ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- Stripe ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/your-username/yoake.git
cd yoake
```

### 2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
cd client
npm install

# ã‚µãƒ¼ãƒãƒ¼
cd ../server
npm install
```

### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š

#### ã‚µãƒ¼ãƒãƒ¼å´ (.env)

```bash
# LINEè¨­å®š
LINE_LOGIN_CHANNEL_ID=your_line_login_channel_id
LINE_LOGIN_CHANNEL_SECRET=your_line_login_channel_secret
LINE_MESSAGING_API_TOKEN=your_line_messaging_api_token
LIFF_ID_LINKING=your_liff_id_linking

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_KEY=your_supabase_service_key

# æ±ºæ¸ˆ
STRIPE_SECRET_KEY=your_stripe_secret_key

# ãã®ä»–
PORT=3001
RICH_MENU_ID_MEMBER=your_rich_menu_id_member
```

#### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ (.env)

```bash
# LIFFè¨­å®š
REACT_APP_LIFF_ID_REGISTER=your_liff_id_register
REACT_APP_LIFF_ID_LINKING=your_liff_id_linking
REACT_APP_LIFF_ID_CHECKIN=your_liff_id_checkin
REACT_APP_LIFF_ID_CARD=your_liff_id_card
REACT_APP_LIFF_ID_HISTORY=your_liff_id_history

# æ±ºæ¸ˆ
REACT_APP_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Supabase SQL ã‚¨ãƒ‡ã‚£ã‚¿ã§å®Ÿè¡Œ
psql -f database/schema.sql
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# ã‚µãƒ¼ãƒãƒ¼ (ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1)
cd server
npm run dev

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2)
cd client
npm start
```

## ğŸ”§ LINE è¨­å®š

### 1. Messaging API ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ

- LINE Developers ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ
- Channel Access Token ã‚’å–å¾—

### 2. LINE Login ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ

- LINE Developers ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ­ã‚°ã‚¤ãƒ³ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆ
- Channel ID ã¨ Channel Secret ã‚’å–å¾—

### 3. LIFF ã‚¢ãƒ—ãƒªä½œæˆ

5 ã¤ã® LIFF ã‚¢ãƒ—ãƒªã‚’ä½œæˆï¼š

- æ–°è¦ç™»éŒ²ç”¨
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æºç”¨
- åº—èˆ—ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ç”¨
- ãƒ‡ã‚¸ã‚¿ãƒ«ä¼šå“¡è¨¼ç”¨
- æ¥åº—å±¥æ­´ç”¨

### 4. ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š

```bash
cd server
npm run setup-richmenu
```

## ğŸ’³ Stripe è¨­å®š

### 1. Stripe ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ

- Stripe ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ API ã‚­ãƒ¼å–å¾—
- ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®å‹•ä½œç¢ºèª

### 2. æ±ºæ¸ˆãƒ•ãƒ­ãƒ¼è¨­å®š

- Payment Intent ã‚’ä½¿ç”¨ã—ãŸæ±ºæ¸ˆå‡¦ç†
- Webhook ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®š

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Render ãƒ‡ãƒ—ãƒ­ã‚¤

1. Render ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
2. GitHub ãƒªãƒã‚¸ãƒˆãƒªé€£æº
3. ç’°å¢ƒå¤‰æ•°è¨­å®š
4. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

### ç’°å¢ƒå¤‰æ•°ï¼ˆæœ¬ç•ªï¼‰

- å…¨ã¦ã® `.env` è¨­å®šã‚’ Render ç’°å¢ƒå¤‰æ•°ã«è¨­å®š
- LIFF Endpoint URL ã‚’æœ¬ç•ª URL ã«æ›´æ–°

## ğŸ“Š ç›£è¦–ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### UptimeRobot è¨­å®š

- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç›£è¦–
- ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ é€šçŸ¥è¨­å®š

### ãƒ­ã‚°ç›£è¦–

- ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°ã®å®šæœŸç¢ºèª
- ã‚¨ãƒ©ãƒ¼ç‡ã®ç›£è¦–

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
cd client
npm test

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd server
npm test

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check
```

## ğŸ“ API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### èªè¨¼ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

- `POST /api/register` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- `POST /api/link-line-account` - LINE é€£æº
- `POST /api/request-password-reset` - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ

### æ±ºæ¸ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

- `POST /api/create-payment-intent` - æ±ºæ¸ˆæº–å‚™
- `POST /api/webhook/stripe` - Stripe Webhook

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

- `POST /api/check-in` - åº—èˆ—ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³
- `GET /api/membership-card` - ä¼šå“¡è¨¼ãƒ‡ãƒ¼ã‚¿
- `GET /api/visit-history` - æ¥åº—å±¥æ­´

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **Helmet**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼
- **CORS**: ã‚ªãƒªã‚¸ãƒ³åˆ¶é™
- **Rate Limiting**: API ä¿è­·
- **Input Validation**: å…¥åŠ›æ¤œè¨¼
- **SQL Injection Prevention**: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒª
- **XSS Protection**: å‡ºåŠ›ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- ğŸ“§ Email: support@yoake.com
- ğŸ’¬ LINE: @yoake_official
- ğŸ“– Docs: https://docs.yoake.com

## ğŸ¯ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### çŸ­æœŸç›®æ¨™ (1-3 ãƒ¶æœˆ)

- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿèƒ½
- [ ] ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥æœ€é©åŒ–
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªå¯¾å¿œæ¤œè¨

### ä¸­æœŸç›®æ¨™ (3-6 ãƒ¶æœˆ)

- [ ] ä»–åº—èˆ—å±•é–‹ã‚µãƒãƒ¼ãƒˆ
- [ ] è©³ç´°ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹
- [ ] ä¼šå“¡é™å®šã‚¤ãƒ™ãƒ³ãƒˆæ©Ÿèƒ½

### é•·æœŸç›®æ¨™ (6-12 ãƒ¶æœˆ)

- [ ] AI ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ
- [ ] ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—æ©Ÿèƒ½
- [ ] å›½éš›å±•é–‹å¯¾å¿œ

---

**Created with â¤ï¸ by YOAKE Team**
